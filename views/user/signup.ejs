<% layout('/layouts/boilerplate') -%>

<div class="sing_container">
  <h3 class="sing_title">Create Your Account</h3>
  <form class="needs-validation" novalidate method="post" action="/signup">
    
    <!-- Username -->
    <input 
      type="text" 
      class="sing_input" 
      id="username" 
      name="username" 
      placeholder="Username"
      required 
    />
    <div class="invalid-feedback">Please enter a username.</div>

    <!-- Email -->
    <input 
      type="email" 
      class="sing_input" 
      id="email" 
      name="email" 
      placeholder="Email address"
      required 
    />
    <div class="invalid-feedback">Please enter a valid email.</div>

    <!-- Password -->
    <input 
      type="password" 
      class="sing_input" 
      id="password" 
      name="password" 
      placeholder="Password"
      required 
      minlength="6"
    />
    <div class="invalid-feedback">
      Please enter a password (at least 6 characters).
    </div>

    <!-- Button -->
    <button type="submit" class="sing_btn">Sign Up</button>

    <!-- Footer -->
    <p class="sing_footer">
      Already have an account? <a href="/login">Sign In</a>
    </p>
  </form>
</div>

<script>
  (() => {
    "use strict";
    const forms = document.querySelectorAll(".needs-validation");
    Array.from(forms).forEach(form => {
      form.addEventListener("submit", event => {
        if (!form.checkValidity()) {
          event.preventDefault();
          event.stopPropagation();
        }
        form.classList.add("was-validated");
      }, false);
    });
  })();
</script>